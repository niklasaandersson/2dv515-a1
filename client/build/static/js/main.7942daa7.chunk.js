(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(7),c=n.n(s),o=(n(12),n(2)),i=n.n(o),l=n(3),u=n(4),d=n(5),p=(n(14),n(0));var j=function(e){var t=e.state,n=e.onSelectUser,a=e.onSelectMethod,r=e.onSelectNoOfResults;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("select",{className:"form-control",name:"user",placeholder:"User",autoComplete:"off",required:!0,onChange:n,value:JSON.stringify({id:t.user.id,name:t.user.name}),children:[Object(p.jsx)("option",{value:"",children:"--Choose a user--"}),t.users.map((function(e){return Object(p.jsxs)("option",{value:JSON.stringify({id:e.id,name:e.name}),children:[e.id,": ",e.name]},e.id)}))]})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("select",{className:"form-control",name:"method",placeholder:"Similarity",autoComplete:"off",required:!0,value:t.method,onChange:a,children:[Object(p.jsx)("option",{value:"",children:"--Choose a method--"}),Object(p.jsx)("option",{value:"euclidean",children:"Euclidean"}),3!==t.resultType?Object(p.jsx)("option",{value:"pearson",children:"Pearson"}):null]})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("input",{type:"number",className:"form-control",placeholder:"No. of Results",value:t.noOfResults,min:"1",max:t.users.length-1,required:!0,onChange:r})})]})})};var m=function(e){var t=e.state,n=e.onSelectMovie,a=e.onSelectMethod,r=e.onSelectNoOfResults;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("select",{className:"form-control",name:"movie",placeholder:"Movie",autoComplete:"off",required:!0,onChange:n,value:JSON.stringify(t.movie),children:[Object(p.jsx)("option",{value:"",children:"--Choose a movie--"}),t.movies.map((function(e){return Object(p.jsxs)("option",{value:JSON.stringify({id:e.id,title:e.title}),children:[e.id,": ",e.title]},e.id)}))]})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("select",{className:"form-control",name:"method",placeholder:"Similarity",autoComplete:"off",required:!0,value:t.method,onChange:a,children:[Object(p.jsx)("option",{value:"",children:"--Choose a method--"}),Object(p.jsx)("option",{value:"euclidean",children:"Euclidean"}),Object(p.jsx)("option",{value:"pearson",children:"Pearson"})]})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("input",{type:"number",className:"form-control",placeholder:"No. of Results",value:t.noOfResults,min:"1",max:t.movies.length-1,required:!0,onChange:r})})]})})};var h=function(e){var t=e.state,n=e.onSelectDataSet;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"mb-3",style:{textAlign:"start"},children:[Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:"small"===t.dataSet?"badge rounded-pill bg-primary me-1":"badge rounded-pill bg-secondary  px-2",onClick:function(){return n("small")},children:"Small dataset"})}),Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:"large"===t.dataSet?"badge rounded-pill bg-primary ms-1":"badge rounded-pill bg-secondary  px-2",onClick:function(){return n("large")},children:"Large dataset"})})]})})};function b(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/users?dataSet=").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/movies?dataSet=").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n,a){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(i.a.mark((function e(t,n,a,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/matching-users?userId=").concat(t,"&method=").concat(n,"&limit=").concat(a,"&dataSet=").concat(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return s=e.sent,e.abrupt("return",s.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,a){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(i.a.mark((function e(t,n,a,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/recommended-movies?userId=").concat(t,"&method=").concat(n,"&limit=").concat(a,"&dataSet=").concat(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return s=e.sent,e.abrupt("return",s.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n,a){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(i.a.mark((function e(t,n,a,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/recommendations-item-based?userId=").concat(t,"&method=").concat(n,"&limit=").concat(a,"&dataSet=").concat(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return s=e.sent,e.abrupt("return",s.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n,a){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(i.a.mark((function e(t,n,a,r){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/matching-movies?movieId=").concat(t,"&method=").concat(n,"&limit=").concat(a,"&dataSet=").concat(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return s=e.sent,e.abrupt("return",s.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){var t=e.state,n=e.onSelectResultType;return Object(p.jsxs)("div",{className:"mt-3",style:{textAlign:"start"},children:[Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:1===t.resultType?"badge rounded-pill bg-primary  me-1":"badge rounded-pill bg-secondary  me-1",onClick:function(){return n(1)},children:"Find top matching users"})}),Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:4===t.resultType?"badge rounded-pill bg-primary  me-1":"badge rounded-pill bg-secondary  me-1",onClick:function(){return n(4)},children:"Find recommended movies"})}),Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:2===t.resultType?"badge rounded-pill bg-primary  me-1":"badge rounded-pill bg-secondary  me-1",onClick:function(){return n(2)},children:"Find top matching movies"})}),Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:3===t.resultType?"badge rounded-pill bg-primary":"badge rounded-pill bg-secondary",onClick:function(){return n(3)},children:"Find recommendations, item-based"})})]})};var R=function(e){var t=e.state;return Object(p.jsx)(p.Fragment,{children:0===t.result.length?Object(p.jsxs)("p",{className:"mt-4",children:["No results for ",2===t.resultType?t.movie.title:t.user.name]}):Object(p.jsxs)("table",{className:"table mt-4",children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:Object.keys(t.result[0]).map((function(e){return Object(p.jsx)("th",{scope:"col",style:{textTransform:"capitalize"},children:e},e)}))})}),Object(p.jsx)("tbody",{children:t.result.map((function(e){return Object(p.jsxs)("tr",{children:[1===t.resultType?Object(p.jsx)("td",{children:e.name}):Object(p.jsx)("td",{children:e.movie}),Object(p.jsx)("td",{children:e.id}),Object(p.jsx)("td",{children:e.score.toFixed(4)})]},e.id)}))})]})})};var A=function(e){var t=e.state;return Object(p.jsxs)(p.Fragment,{children:[1===t.resultType&&""!==t.user&&""!==t.method&&t.noOfResults>0?Object(p.jsx)(R,{state:t}):null,2===t.resultType&&""!==t.movie&&t.noOfResults>0?Object(p.jsx)(R,{state:t}):null,3===t.resultType&&""!==t.user&&""!==t.method&&t.noOfResults>0?Object(p.jsx)(R,{state:t}):null,4===t.resultType&&""!==t.user&&""!==t.method&&t.noOfResults>0?Object(p.jsx)(R,{state:t}):null]})};var F=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"spinner-border text-primary mt-5",role:"status",children:Object(p.jsx)("span",{class:"sr-only"})})})};var E=function(){return Object(p.jsxs)("div",{style:{backgroundColor:"black",fontSize:"10px",color:"white",position:"absolute",width:"100%",bottom:0,padding:"10px",textAlign:"left"},children:[Object(p.jsx)("p",{className:"mb-0",children:"Niklas Andersson"}),Object(p.jsx)("p",{className:"mb-0",children:"na222sn"}),Object(p.jsx)("p",{className:"mb-0",children:"2dv515"}),Object(p.jsx)("p",{className:"mb-0",children:"2021"})]})};var J=function(){var e=Object(a.useState)({dataSet:"small",users:[],movies:[],user:"",movie:"",method:"",noOfResults:"",resultType:1,result:[],isLoading:!1}),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),c=Object(d.a)(s,2),o=c[0],f=c[1],v=Object(a.useState)(!1),y=Object(d.a)(v,2),S=(y[0],y[1]);Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==n&&3!==n&&4!==n){e.next=5;break}return e.next=3,b(t);case 3:a=e.sent,r((function(e){var t=Object(l.a)({},e);return t.users=a,t}));case 5:if(2!==n){e.next=10;break}return e.next=8,O(t);case 8:s=e.sent,r((function(e){var t=Object(l.a)({},e);return t.movies=s,t}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();S(!0),e(n.dataSet,n.resultType),S(!1)}),[n.dataSet,n.resultType]),Object(a.useEffect)((function(){f(!0),r((function(e){var t=Object(l.a)({},e);return t.result=[],t}));var e=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=1===e.t0?3:2===e.t0?7:3===e.t0?11:4===e.t0?15:19;break;case 3:return e.next=5,x(n.user.id,n.method,n.noOfResults,n.dataSet);case 5:return a=e.sent,e.abrupt("break",19);case 7:return e.next=9,w(n.movie.id,n.method,n.noOfResults,n.dataSet);case 9:return a=e.sent,e.abrupt("break",19);case 11:return e.next=13,N(n.user.id,n.method,n.noOfResults,n.dataSet);case 13:return a=e.sent,e.abrupt("break",19);case 15:return e.next=17,g(n.user.id,n.method,n.noOfResults,n.dataSet);case 17:return a=e.sent,e.abrupt("break",19);case 19:r((function(e){var t=Object(l.a)({},e);return t.result=a.data,t}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();1===n.resultType&&""!==n.user&&""!==n.noOfResults&&""!==n.method&&e(n.resultType),2===n.resultType&&""!==n.movie&&""!==n.noOfResults&&""!==n.method&&e(n.resultType),3===n.resultType&&""!==n.user&&""!==n.noOfResults&&""!==n.method&&e(n.resultType),4===n.resultType&&""!==n.user&&""!==n.noOfResults&&""!==n.method&&e(n.resultType),f(!1)}),[n.resultType,n.user,n.movie,n.method,n.noOfResults,n.dataSet]);var T=function(e){var t=Object(l.a)({},n);t.method=e.target.value,r(t)},k=function(e){var t=Object(l.a)({},n);t.noOfResults=e.target.value,r(t)};return Object(p.jsx)("div",{className:"App",children:o?Object(p.jsx)(F,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"d-flex justify-content-center align-items-top",style:{height:"90vh",padding:"0 10px"},children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"mt-5 mb-4",children:"Assignment 1"}),Object(p.jsx)(h,{state:n,onSelectDataSet:function(e){var t=Object(l.a)({},n);t.dataSet=e,t.users=[],t.movies=[],t.user="",t.movie="",r(t)}}),1===n.resultType||3===n.resultType||4===n.resultType?Object(p.jsx)(j,{state:n,onSelectUser:function(e){var t=JSON.parse(e.target.value),a=Object(l.a)({},n);a.user=t,r(a)},onSelectMethod:T,onSelectNoOfResults:k}):null,2===n.resultType?Object(p.jsx)(m,{state:n,onSelectMovie:function(e){var t=JSON.parse(e.target.value),a=Object(l.a)({},n);a.movie=t,r(a)},onSelectMethod:T,onSelectNoOfResults:k}):null,Object(p.jsx)(C,{state:n,onSelectResultType:function(e){var t=Object(l.a)({},n);t.resultType=e,r(t)}}),Object(p.jsx)(A,{state:n})]})}),Object(p.jsx)("div",{}),Object(p.jsx)(E,{})]})})};n(16);c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(J,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.7942daa7.chunk.js.map