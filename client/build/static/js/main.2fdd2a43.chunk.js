(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(6),s=n.n(c),o=(n(12),n(1)),i=n.n(o),u=n(4),l=n(3),d=n(7),p=(n(14),n(0));var h=function(e){var t=e.state,n=e.onSelectUser,a=e.onSelectMethod,r=e.onSelectNoOfResults;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("select",{className:"form-control",name:"user",placeholder:"User",autoComplete:"off",required:!0,onChange:n,children:[Object(p.jsx)("option",{value:"",children:"--Choose a user--"}),t.users.map((function(e){return Object(p.jsxs)("option",{value:JSON.stringify({id:e.id,name:e.name}),children:[e.id,": ",e.name]},e.id)}))]})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("select",{className:"form-control",name:"method",placeholder:"Similarity",autoComplete:"off",required:!0,value:t.method,onChange:a,children:[Object(p.jsx)("option",{value:"",children:"--Choose a method--"}),Object(p.jsx)("option",{value:"euclidean",children:"Euclidean"}),Object(p.jsx)("option",{value:"pearson",children:"Pearson"})]})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("input",{type:"number",className:"form-control",placeholder:"No. of Results",defaultValue:"",min:"1",max:t.users.length-1,required:!0,onChange:r})})]})})};var j=function(e){var t=e.state,n=e.onSelectMovie,a=e.onSelectMethod,r=e.onSelectNoOfResults;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("select",{className:"form-control",name:"movie",placeholder:"Movie",autoComplete:"off",required:!0,onChange:n,children:[Object(p.jsx)("option",{value:"",children:"--Choose a movie--"}),t.movies.map((function(e){return Object(p.jsxs)("option",{value:JSON.stringify({id:e.id,title:e.title}),children:[e.id,": ",e.title]},e.id)}))]})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("select",{className:"form-control",name:"method",placeholder:"Similarity",autoComplete:"off",required:!0,value:t.method,onChange:a,children:[Object(p.jsx)("option",{value:"",children:"--Choose a method--"}),Object(p.jsx)("option",{value:"euclidean",children:"Euclidean"}),Object(p.jsx)("option",{value:"pearson",children:"Pearson"})]})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("input",{type:"number",className:"form-control",placeholder:"No. of Results",defaultValue:"",min:"1",max:t.movies.length-1,required:!0,onChange:r})})]})})};var m=function(e){var t=e.state,n=e.onSelectDataSet;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"mb-3",style:{textAlign:"start"},children:[Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:"small"===t.dataSet?"badge rounded-pill bg-primary me-1":"badge rounded-pill bg-secondary  px-2",onClick:function(){return n("small")},children:"Small dataset"})}),Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:"large"===t.dataSet?"badge rounded-pill bg-primary ms-1":"badge rounded-pill bg-secondary  px-2",onClick:function(){return n("large")},children:"Large dataset"})})]})})};function f(e){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/users?dataSet=").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/movies?dataSet=").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n,a){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(i.a.mark((function e(t,n,a,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/matching-users?userId=").concat(t,"&method=").concat(n,"&limit=").concat(a,"&dataSet=").concat(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,a){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(i.a.mark((function e(t,n,a,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/recommended-movies?userId=").concat(t,"&method=").concat(n,"&limit=").concat(a,"&dataSet=").concat(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n,a){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(i.a.mark((function e(t,n,a,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/recommendations-item-based?userId=").concat(t,"&method=").concat(n,"&limit=").concat(a,"&dataSet=").concat(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n,a){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(i.a.mark((function e(t,n,a,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("https://a1-2dv515.herokuapp.com","/api/").concat("v1","/matching-movies?movieId=").concat(t,"&method=").concat(n,"&limit=").concat(a,"&dataSet=").concat(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){var t=e.state,n=e.onSelectResultType;return Object(p.jsxs)("div",{className:"mt-3",style:{textAlign:"start"},children:[Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:1===t.resultType?"badge rounded-pill bg-primary  me-1":"badge rounded-pill bg-secondary  me-1",onClick:function(){return n(1)},children:"Find top matching users"})}),Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:4===t.resultType?"badge rounded-pill bg-primary  me-1":"badge rounded-pill bg-secondary  me-1",onClick:function(){return n(4)},children:"Find recommended movies"})}),Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:2===t.resultType?"badge rounded-pill bg-primary  me-1":"badge rounded-pill bg-secondary  me-1",onClick:function(){return n(2)},children:"Find top matching movies"})}),Object(p.jsx)("a",{href:"/#",children:Object(p.jsx)("span",{className:3===t.resultType?"badge rounded-pill bg-primary":"badge rounded-pill bg-secondary",onClick:function(){return n(3)},children:"Find recommendations, item-based"})})]})};var R=function(e){var t=e.state;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("table",{className:"table mt-4",children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:Object.keys(t.result[0]).map((function(e){return Object(p.jsx)("th",{scope:"col",style:{textTransform:"capitalize"},children:e},e)}))})}),Object(p.jsx)("tbody",{children:t.result.map((function(e){return Object(p.jsxs)("tr",{children:[4===t.resultType||2===t.resultType?Object(p.jsx)("td",{children:e.movie}):Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.id}),Object(p.jsx)("td",{children:e.score.toFixed(4)})]},e.id)}))})]})})};var E=function(){var e=Object(a.useState)({dataSet:"small",users:[],movies:[],user:"",movie:"",method:"",noOfResults:"",resultType:1,result:[]}),t=Object(d.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==n&&3!==n){e.next=5;break}return e.next=3,f(t);case 3:a=e.sent,r((function(e){var t=Object(u.a)({},e);return t.users=a,t}));case 5:if(2!==n){e.next=10;break}return e.next=8,v(t);case 8:c=e.sent,r((function(e){var t=Object(u.a)({},e);return t.movies=c,t}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();e(n.dataSet,n.resultType)}),[n.dataSet,n.resultType]),Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n.user.id,n.method,n.noOfResults,n.dataSet);case 2:t=e.sent,r((function(e){var n=Object(u.a)({},e);return n.result=t.data,n}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n.user.id,n.method,n.noOfResults,n.dataSet);case 2:t=e.sent,r((function(e){var n=Object(u.a)({},e);return n.result=t.data,n}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n.user.id,n.method,n.noOfResults,n.dataSet);case 2:t=e.sent,r((function(e){var n=Object(u.a)({},e);return n.result=t.data,n}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(n.movie.id,n.method,n.noOfResults,n.dataSet);case 2:t=e.sent,r((function(e){var n=Object(u.a)({},e);return n.result=t.data,n}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();1===n.resultType&&""!==n.user&&""!==n.noOfResults&&""!==n.method&&e(),2===n.resultType&&""!==n.movie&&""!==n.noOfResults&&c(),3===n.resultType&&""!==n.user&&""!==n.noOfResults&&""!==n.method&&a(),4===n.resultType&&""!==n.user&&""!==n.noOfResults&&""!==n.method&&t()}),[n.resultType,n.user,n.movie,n.method,n.noOfResults,n.dataSet]);var c=function(e){var t=Object(u.a)({},n);t.method=e.target.value,r(t)},s=function(e){var t=Object(u.a)({},n);t.noOfResults=e.target.value,r(t)};return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("div",{className:"d-flex justify-content-center align-items-top",style:{height:"90vh"},children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"mt-5 mb-4",children:"Assignment 1"}),Object(p.jsx)(m,{state:n,onSelectDataSet:function(e){var t=Object(u.a)({},n);t.dataSet=e,t.users=[],t.user="",r(t)}}),1===n.resultType||3===n.resultType||4===n.resultType?Object(p.jsx)(h,{state:n,onSelectUser:function(e){var t=JSON.parse(e.target.value),a=Object(u.a)({},n);a.user=t,r(a)},onSelectMethod:c,onSelectNoOfResults:s}):null,2===n.resultType?Object(p.jsx)(j,{state:n,onSelectMovie:function(e){var t=JSON.parse(e.target.value),a=Object(u.a)({},n);a.movie=t,r(a)},onSelectMethod:c,onSelectNoOfResults:s}):null,Object(p.jsx)(C,{state:n,onSelectResultType:function(e){var t=Object(u.a)({},n);t.resultType=e,t.noOfResults="",r(t)}}),1===n.resultType&&n.result.length>0&&""!==n.user&&""!==n.method&&n.noOfResults>0?Object(p.jsx)(R,{state:n}):null,2===n.resultType&&n.result.length>0&&""!==n.movie&&n.noOfResults>0?Object(p.jsx)(R,{state:n}):null,3===n.resultType&&n.result.length>0&&""!==n.user&&""!==n.method&&n.noOfResults>0?Object(p.jsx)(R,{state:n}):null,4===n.resultType&&n.result.length>0&&""!==n.user&&""!==n.method&&n.noOfResults>0?Object(p.jsx)(R,{state:n}):null]})})})};n(16);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.2fdd2a43.chunk.js.map